2014/12/30 12:41:45
= CentOS后台任务执行相关命令 =

== fg、bg、jobs、&、nohup、ctrl + z命令 ==

&           -- 加在一个命令的最后，可以把这个命令放到后台执行,如gftp &,
ctrl + z    -- 可以将一个正在前台执行的命令放到后台，并且处于暂停状态，不可执行
jobs        -- 查看当前有多少在后台运行的命令
            -- jobs -l选项可显示所有任务的PID
            -- 也就是说，jobs命令显示的是当前shell环境中所起的后台正在运行或者被挂起的任务信息；
fg          -- 将后台中的命令调至前台继续运行
            -- 如果后台中有多个命令，可以用fg %jobnumber将选中的命令调出(不是pid)
bg          -- 将一个在后台暂停的命令，变成继续执行 （在后台执行）
            -- 如果后台中有多个命令，可以用bg %jobnumber将选中的命令调出(不是pid)

将任务转移到后台运行：
先ctrl + z；再bg，这样进程就被移到后台运行，终端还能继续接受命令。

概念：当前任务
    如果后台的任务号有2个，[1],[2]；如果当第一个后台任务顺利执行完毕，第二个后台任务还在执行中时，当前任务便会自动变成后台任务号码“[2]” 的后台任务。所以可以得出一点，即当前任务是会变动的。当用户输入“fg”、“bg”和“stop”等命令时，如果不加任何引号，则所变动的均是当前任务

== nohup ==
    该命令可以在你退出帐户/关闭终端之后继续运行相应的进程。

=== 后台进程的终止： ===

方法一：通过jobs命令查看job号（假设为num），然后执行kill %num

方法二：通过ps命令查看job的进程号（PID，假设为pid），然后执行kill pid

=== 前台进程的终止： ===

ctrl+c

kill的其他作用
kill除了可以终止进程，还能给进程发送其它信号，使用kill -l 可以察看kill支持的信号。
    SIGTERM是不带参数时kill发送的信号，意思是要进程终止运行，但执行与否还得看进程是否支持。如果进程还没有终止，可以使用kill -SIGKILL pid，这是由内核来终止进程，进程不能监听这个信号。

=== 后台进程的挂起： ===

在solaris中通过stop命令执行，通过jobs命令查看job号(假设为num)，然后执行stop %num；

在redhat中，不存在stop命令，可通过执行命令kill -stop PID，将进程挂起；

当要重新执行当前被挂起的任务时，通过bg %num 即可将挂起的job的状态由stopped改为running，仍在后台执行；当需要改为在前台执行时，执行命令fg %num即可；

=== 前台进程的挂起： ===

ctrl+Z;

使用jobs 查看任务。　　使用fg %n　关闭。
