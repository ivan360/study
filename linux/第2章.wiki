第2章 新手必须掌握的Linux命令
------------------------------

= 2.1 强大好用的SHELL =
"Shell"——也可称为“壳”，充当的是人与内核（硬件）的翻译官

= 2.2 执行查看帮助命令 =
man
长格式如:man --help
短格式如:man -h

= 2.3 常用系统工作命令 =
echo [字符串 | $变量]
echo $SHELL

date

reboot
poweroff

shutdown [ -t -h ] now

wget [参数] 下载地址
-b 	后台下载模式。
-O 	下载到指定目录。
-c 	断点续传
-p 	下载页面内所有资源,包括图片、视频等。
-r 	递归下载
-t 	最大尝试次数。

ps命令用于查看系统中的进程状态，格式为：“ps [参数]”，同样搭配的参数如下：
-a 	显示所有的进程（包括其他用户的）
-u 	用户以及其他详细信息
-x 	显示没有控制终端的进程

top命令用于动态的监视进程活动与系统负载等信息，格式为：“top”

pidof命令用于查询某个指定服务的进程PID号码值，格式为：“pidof [参数] [服务名称]”
pidof firefox // pidof gvim

kill命令用于终止某个指定PID号码的进程，格式为：“kill [参数] [进程PID号]”

killall命令用于终止某个指定名称的服务所对应的全部进程，格式为：“killall [参数] [进程名称]”

= 2.4 系统状态检测命令 =
ifconfig用于获取网卡配置与网络状态等信息:格式为"ifconfig [网络设备] [参数]"
网卡名称、inet参数后面的IP地址、ether参数后面的物理mac地址以及RX、TX的接收与发送数据包的大小

uname命令用于查看系统内核与系统版本等信息，格式为：“uname [-a]”

查看系统详细版本信息就看redhat-release文件：
cat /etc/redhat-release

uptime命令用于查看系统的负载信息，格式为：“uptime”

free命令用于显示当前系统中内存的使用量信息，格式为：“free [-h]”

who命令用于查看当前登入主机的用户终端信息，格式为："who [参数]"

last命令用于查看所有系统的登入记录，格式为："last [参数]"

history命令用于显示历史执行过的命令，格式为：“history [-c]”

sosreport命令用于收集系统配置并诊断信息后输出结论文档，格式为：“sosreport”

= 2.5 工作目录切换命令 =

pwd命令用于显示当前所处的工作目录，格式为：“pwd [选项]”

cd命令用于切换工作路径，格式为：“cd [目录名称]”

ls命令用于显示目录中的文件信息，格式为：“ls [选项] [文件] ”

= 2.6 文本文件编辑命令 =
cat命令用于查看纯文本文件（较短的），格式为：“cat [选项] [文件]”

more命令用于查看纯文本文件（较长的），格式为：“more [选项] 文件”

head命令用于查看纯文本文档的前N行，格式为：“head [选项] [文件]”
head -n 2 /etc/passwd

tail命令用于查看纯文本文档的后N行或持续刷新内容，格式为：“tail [选项] [文件]”

tr命令用于替换文本文件中的字符，格式为:“tr [原始字符] [目标字符]”

wc命令用于统计指定文本的行数、字数、字节数，格式为“wc [参数] 文本”

stat命令用于查看文件的具体存储信息和时间等信息，格式“stat 文件名称”

cut命令用于按“列”来提取文本字符，格式为：“cut [参数] 文本”
cut -d: -f1 /etc/passwd

diff命令用于比较多个文本文件的差异，格式为："diff [参数] 文件"
diff -c diff_A.txt diff_B.txt

= 2.7 文件目录管理命令 =
touch命令用于创建空白文件与设置文件的各种时间，格式为：“touch [选项] [文件]”
-a 	仅修改“访问时间”（atime）
-m 	仅修改“更改时间”（mtime）
-d 	同时修改atime与mtime
文件内容的修改时间（mtime）、文件权限或属性的更改时间（ctime）与文件的读取时间（atime）

mkdir用于创建空白的文件夹，格式为：“mkdir [选项] 目录”
使用“-p”参数来递归创建出具有嵌套叠层关系的文件目录
mkdir -p a/b/c/d/e

cp命令用于复制文件或目录，格式为：“cp [选项] 源文件 目标文件”
-p 	保留原始文件的属性
-d 	若对象为"链接文件"，则保留该"链接文件"的属性
-r 	递归持续复制（用于目录）
-i 	若目标文件存在则询问是否覆盖
-a 	相当于-pdr（p,d,r为上述的参数）

mv命令用于移动文件或改名，格式为：“mv [选项] 源文件 [目标路径|目标文件名]”

rm命令用于删除文件或目录，格式为：“rm [选项] 文件”
使用“-f”参数来直接强制删除，删除一个目录文件夹“-r”参数才可以

dd命令用于指定大小的拷贝文件或指定转换文件，格式为：“dd [参数]”
dd if=/dev/zero of=560_file count=1 bs=560M
  if 	输入的文件名称
  of 	输出的文件名称
  bs 	设置每个“块”的大小
  count 	设置要拷贝“块”的个数

使用这个dd命令来复制并压制光盘设备变成一个可立即使用的iso镜像哦
dd if=/dev/cdrom of=RHEL-server-7.0-x86_64-LinuxProbe.Com.iso

file命令用于查看文件的类型，格式为：“file 文件名”

= 2.8 打包压缩与搜索命令 =
== tar命令用于对文件打包压缩或解压，格式为：“tar [选项] [文件]” ==

“-c”参数是用于创建压缩文件的，
“-x”参数是用于解压文件的

因此这两个不能同时放一起使用

“-z”参数是指定使用Gzip格式来压缩解压文件
“-j”参数是指定使用bzip2参数来压缩解压文件

“-v”参数来不断显示压缩或解压的过程给用户
“-C”参数用于指定要解压到的那个指定的目录

“-f”参数特别重要，它必须放到参数的最后一位，代表要压缩或解压的软件包名称

“tar -czvf 压缩包名称.tar.gz 要打包的目录”命令来将指定的文件来打包
“tar -xzvf 压缩包名称.tar.gz”，解压

用tar命令将/etc目录内文件通过gzip格式进行打包压缩，并将文件命名为etc.tar.gz
tar czvf etc.tar.gz /etc

将刚刚打包的压缩包文件指定解压到/root/etc目录中
tar xzvf etc.tar.gz -C /root/etc

== grep命令用于对文本内容进行关键词的搜索匹配，格式为：“grep [选项] [文件]” ==
“-n”参数显示搜索到信息的行号
“-v”参数用于反选信息（即没有包含关键词的所有信息行）
grep /sbin/nologin /etc/passwd

== find命令用于查找文件，格式为：“find [查找路径] 寻找条件 操作” ==
-name 	匹配名称
-perm 	匹配权限（mode为完全匹配，-mode为包含即可）
-user 	匹配所有者
-group 	匹配所有组
-mtime -n +n 	匹配修改内容的时间（-n指n天以内，+n指n天以前）
-atime -n +n 	匹配访问文件的时间-n指n天以内，+n指n天以前
-ctime -n +n 	匹配修改权限的时间-n指n天以内，+n指n天以前
-nouser 	匹配无所有者的文件
-nogroup 	匹配无所有组的文件
-newer f1 !f2 	匹配比文件f1新却比f2旧的文件
--type b/d/c/p/l/f 	匹配文件类型（块设备、目录、字符设备、管道、链接文件、文件文件）
-size 	匹配文件的大小（+50k查找超过50k的文件,而-50k则代表查找小于50k的文件）
-prune 	忽略某个目录
-exec {} \; 	后面可接对搜索到结果进一步处理的命令（下面会有演示）

获取/etc目录中所有以host开头的文件就可以这样做
find /etc -name "host*" -print

想要在整个系统中搜索所有权限中包括SUID权限的文件（第五章精讲），只需使用减号-4000即可
find / -perm -4000 -print

拔高题目：在整个的文件系统中找出所有归属于ivan用户的文件并复制到/root/findresults目录。
    此题的重点是"-exec {} \;"其中的{}代表find命令搜索出的逐个文件，并且记得命令的结尾必须是\;
    # find / -user ivan -exec cp -arf {} /root/findresults/ \;
